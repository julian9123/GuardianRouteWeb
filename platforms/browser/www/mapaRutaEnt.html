<!DOCTYPE html>
    <html>
      <head>
        <title>Mapa Empresas</title>
        <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
        <link rel="icon" href="img/drawable/logoapprutas.png">
        <meta charset="utf-8">
        <link rel="stylesheet" type="text/css" href="css/mapa.css">  
        <link rel="stylesheet" type="text/css" href="css/menu.css">
        <link rel="stylesheet" type="text/css" href="css/botones.css">
        <link rel="stylesheet" type="text/css" href="css/formulario.css">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link href='https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,500,400italic,700,700italic' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="https://storage.googleapis.com/code.getmdl.io/1.0.1/material.teal-red.min.css" />
        <script src="https://storage.googleapis.com/code.getmdl.io/1.0.1/material.min.js"></script>
        <script src="https://apis.google.com/js/platform.js" async defer></script>
        <script src="https://www.gstatic.com/firebasejs/4.6.2/firebase.js"></script>
        <script src="https://www.gstatic.com/firebasejs/4.6.2/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/4.6.2/firebase-auth.js"></script>
        <script src="https://www.gstatic.com/firebasejs/4.6.2/firebase-database.js"></script>
        <script src="https://www.gstatic.com/firebasejs/4.6.2/firebase-messaging.js"></script>
        <script src="https://code.jquery.com/jquery-3.3.1.js" integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60=" crossorigin="anonymous"></script>
        <script type="text/javascript" src="cordova.js"></script>
        <script type="text/javascript" src="js/index.js"></script>  
        <script type="text/javascript" src="js/conectar.js"></script>
        <script type="text/javascript" src="js/consultar.js"></script>
        <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCQ7J6-8VbDMfg12nPmEiNrvgbEhZGvIyA&callback=initMap"></script>
        <script type="text/javascript" src="js/mapas.js"></script>
      </head>
      <body>
        <header style="width: 45%;">
            <nav>
                <ul>
                    <li onclick="listVehicle(); abrirOpcionModal('m-AddRoute');">
                        <a href="#"><img src="img/drawable/plus.png" width="80" height="80">
                            <p class="letraMenu">Vincular Vehículo</p>
                        </a>
                    </li>
                    <li onclick="listVehicleDelete(); strDataRoute(); abrirOpcionModal('m-RemoveRoute');">
                        <a href="#"><img src="img/drawable/minus.png" width="80" height="80">
                            <p class="letraMenu">Desvincular Vehículo</p>
                        </a>
                    </li>
                    <li onclick="strDataRoute(); abrirOpcionModal('m-NotifyRoute');">
                        <a href="#"><img src="img/drawable/BtnAlerta.png" width="80" height="80">
                            <p class="letraMenu">Enviar Notificación</p>
                        </a>
                    </li>
                    <li onclick="abrirOpcionModal('m-SearchRoute'); listVehicleCns();">
                        <a href="#"><img src="img/drawable/btnbuscar.png" width="80" height="80">
                            <p class="letraMenu">Consultar Vehículo</p>
                        </a>
                    </li>
                    <li>
                        <a href="cerrarSesion.html"><img src="img/drawable/logging-out.png"  width="80" height="80">
                            <p class="letraMenu">Cerrar Sesión</p>
                        </a>
                    </li>
                </ul>
            </nav>
        </header>
        <div id="map" class="map"></div>
        <div id="footer" style="display: none"></div>
        <div id="dtsVehiculo" style="display: none"></div>
        <ul id="dtsAlertParent" style="display: none"></ul>
        <dialog id="m-AddRoute" class="site-dialog">
            <div class="headerForm">
                <div class="headerDialog">
                    <div class="headerImage">
                        <img src="img/android/drawable-mdpi/logoapprutas.png" height="51" width="51">
                    </div>
                    <div class="headerTitle">
                    <h1><p class="textoHeader">Agregar Vehículo</p></h1>
                    </div>
                </div>
                <br/>
                <div class="formularioDialog">
                    <br/>
                    <input type="text" class="formulario__inputDialog" id="txtRuta" size="6" max="6" maxlength="6" onkeyup="campoDiligenciado('Ruta')">
                    <label class="formulario__labelDialog" id="lblRuta">Placa</label>
                    <div id="routeFind"></div>
                    <br/>
                    <div class="btn-group cf">
                        <button class="btn_add" id="btnARDialog" onclick="addRouteEnt(); return listVehicle();">Adicionar</button>
                        <button class="btn_cancel" onclick="closePopUp('m-AddRoute')">Cancelar</button>
                    </div>
                </div>
                <div>
                    <ul id="listaVehiculos" style="overflow: auto";>
                        <li id="titulo"><b>VEHICULOS</b></li>
                        <li id="columnas"><b>Placa - Ruta - Nombre</b></li>
                    </ul>
                </div>
            </div>
        </dialog>
        <dialog id="m-RemoveRoute" class="site-dialog">
            <div class="headerForm">
                <div class="headerDialog">
                    <div class="headerImage">
                        <img src="img/android/drawable-mdpi/logoapprutas.png" height="51" width="51">
                    </div>
                    <div class="headerTitle">
                    <h1><p class="textoHeader">Eliminar Vehículo</p></h1>
                    </div>
                </div>
                <br/>
                <div class="formularioDialog">
                    <br/>
                    <input type="text" class="formulario__inputDialog" id="txtRutaRem" size="8" max="8" maxlength="8" onkeyup="campoDiligenciado('RutaRem')">
                    <label class="formulario__labelDialog" id="lblRutaRem">Placa</label>
                    <div id="routeFindRem"></div>
                    <br/>
                    <div class="btn-group cf">
                        <button class="btn_add" id="btnRmDialog" onclick="remRoute()">Eliminar</button>
                        <button class="btn_cancel" onclick="closePopUp('m-RemoveRoute')">Cancelar</button>
                    </div>
                </div>
                <div>
                    <ul id="listaVehiculosDel">
                        <li id="tituloDel"><b>Vehiculos</b></li>
                        <li id="columnasDel">Placa - Ruta - Nombre Ruta</li>
                    </ul>
                </div>
            </div>
        </dialog>
        <dialog id="m-SearchRoute" class="site-dialog">
            <div class="headerForm">
                <div class="headerDialog">
                    <div class="headerImage">
                        <img src="img/android/drawable-mdpi/logoapprutas.png" height="51" width="51">
                    </div>
                    <div class="headerTitle">
                    <h1><p class="textoHeader">Consultar Detalle<br/>Vehículo</p></h1>
                    </div>
                </div>
                <br/>
                <div class="formularioDialog">
                    <br/>
                    <input type="text" class="formulario__inputDialog" id="txtRutaCns" size="8" max="8" maxlength="8" onkeyup="campoDiligenciado('RutaCns')">
                    <label  class="formulario__labelDialog" id="lblRutaCns">Ruta</label>
                    <br/>
                    <div class="btn-group cf">
                        <button class="btn_add" id="btnCnsDialog" onclick="listVehicleCns()">Consultar</button>
                        <button class="btn_cancel" onclick="strDataRoute(); closePopUp('m-SearchRoute');">Cancelar</button>
                    </div>
                </div>
                <div>
                    <ul id="listaVehiculosCns" style="overflow: auto;">
                        <li id="tituloCns"><b>VEHICULOS</b></li>
                        <li id="columnasCns"><b>Placa - Ruta - Nombre</b></li>
                    </ul>
                </div>
            </div>
        </dialog>





        <dialog id="m-ChangeRoute" class="site-dialog">
            <div class="headerFormVideo">
                <div class="headerDialog">
                    <div class="headerImage">
                        <img src="img/android/drawable-mdpi/logoapprutas.png" height="51" width="51">
                    </div>
                    <div class="headerTitle">
                    <h1><p class="textoHeader">Ruta en Vivo</p></h1>
                    </div>
                </div>
                <br/>
                <div class="formularioDialog">
                    <br/>
                    <input type="text" class="formulario__inputDialog" id="txtRutaUrl" size="8" max="8" maxlength="8" onkeyup="campoDiligenciado('RutaUrl')">
                    <label class="formulario__labelDialog" id="lblRutaUrl">Ruta</label>
                    <div id="youtubeFrame"></div>
                    <br/>
                    <div class="btn-group cf">
                        <button class="btn_add" id="btnLiveDialog" onclick="cnsUrlRoute()">Ver Video En Vivo</button>
                        <button class="btn_cancel" onclick="strDataRoute(); closePopUp('m-VideoRoute');">Cancelar</button>
                    </div>
                </div>
            </div>
        </dialog>
        <dialog id="m-CnfRemRoute" class="site-dialog">
            <div class="headerForm">
                <div class="headerDialog">
                    <div class="headerImage">
                        <img src="img/android/drawable-mdpi/logoapprutas.png" height="51" width="51">
                    </div>
                    <div class="headerTitle">
                    <h1><p class="textoHeader">Confirmación</p></h1>
                    </div>
                </div>
                <br/>
                <div class="formularioDialogAlert">
                    <br/>
                    <div style="text-align: center; color: #000000;">Recuerde que una vez efectuado el proceso</div>
                    <div style="text-align: center; color: #000000;">Los datos de la ruta relacionada a la empresa</div>
                    <div style="text-align: center; color: #000000;">No se podran recuperar</div>
                    <div style="text-align: center; color: #000000;">Desea eliminar la ruta?</div>
                    <br/>
                    <div class="btn-group cf">
                        <button class="btn_add" id="btnCnfDialog" onclick="confirmaAddRouteEnt(); closePopUp('CnfRemRoute');">Eliminar</button>
                        <button class="btn_cancel" onclick="closePopUp('m-CnfRemRoute')">Cancelar</button>
                    </div>
                </div>
            </div>
        </dialog>

        <dialog id="m-CnfAddRoute" class="site-dialog">
            <div class="headerFormPopUp">
                <div class="headerDialog">
                    <div class="headerImage">
                        <img src="img/android/drawable-mdpi/logoapprutas.png" height="51" width="51">
                    </div>
                    <div class="headerTitle">
                        <h1><p class="textoHeader">Confirmación</p></h1>
                    </div>
                </div>
                <br/>
                <div class="formularioDialogAlert">
                    <br/>
                    <div style="text-align: center; color: #000000;">Desea vincular el vehiculo</div>
                    <div style="text-align: center; color: #000000;">y su primera ruta?</div>
                    <br/>
                    <div style="text-align: center; color: #000000;">Para continuar ingrese el nombre de la ruta</div>
                    <div style="text-align: center; color: #000000;"><input type="text" style="margin-bottom: 0px !important; width: 100% !important; background: #FFFFFF !important; padding: 10px !important; text-align: center;" class="formulario__input" id="txtNewRoute" size="40" maxlength="40"></div>
                    <br/>
                    <div class="btn-group cf">
                        <button class="btn_add" id="btnCnfAddDialog" onclick="confirmaAddRouteEnt(); closePopUp('m-CnfAddRoute'); msjAlert('Ruta ' + $('#txtNewRoute').val() + ' creada', 1);">Crear</button>
                        <button class="btn_cancel" onclick="closePopUp('m-CnfAddRoute')">Cancelar</button>
                    </div>
                </div>
            </div>
        </dialog>

        <dialog id="m-MsjAds" class="site-dialog">
            <div class="headerFormPopUp">
                <div class="headerDialog">
                    <div class="headerImage">
                        <img src="img/android/drawable-mdpi/logoapprutas.png" height="51" width="51">
                    </div>
                    <div class="headerTitle">
                    <h1><p class="textoHeader">Advertencia</p></h1>
                    </div>
                </div>
                <br/>
                <div class="formularioDialogAlert">
                    <br/>
                    <b><div id="msjAds"></div></b>
                    <br/>
                    <div class="btn-group cf">
                        <button class="btn_cancel" onclick="closePopUp('m-MsjAds')">Continuar</button>
                    </div>
                </div>
            </div>
        </dialog>
       <dialog id="m-NotifyRoute" class="site-dialog">
            <div class="headerFormBottom">
                <p class="textoHeader" style="font-size: 15px;"><strong>Notificaciones</strong></p>
                <div class="formularioDialogNotify">
                    <img src="img/android/drawable-mdpi/logoapprutas.png" height="51" width="51">
                    <input type="text" id="notificacion" class="textoNotify" maxlength="40">
                    <div class="btn-group cf" style="margin-left: 1%; display: inline-flex;">
                        <button class="btn_add" onclick="sendNotification('forAll'); closePopUp('m-NotifyRoute')" style="margin: 7px;">Enviar</button>
                        <button class="btn_cancel" onclick="closePopUp('m-NotifyRoute')" style="margin: 7px;">Cancelar</button>
                    </div>
                </div>
            </div>
        </dialog>
        <dialog id="m-AddRouteEnt" class="site-dialog">
            <div class="headerForm">
                <div class="headerDialog">
                    <div class="headerImage">
                        <img src="img/android/drawable-mdpi/logoapprutas.png" height="51" width="51">
                    </div>
                    <div class="headerTitle">
                        <h1><p class="textoHeader">Agregar Vehículo</p></h1>
                    </div>
                </div>
                <br/>
                <div class="formularioDialog">
                    <br/>
                    <input type="text" class="formulario__inputDialog" id="txtRuta" size="6" max="6" maxlength="6" onkeyup="campoDiligenciado('Ruta')">
                    <label class="formulario__labelDialog" id="lblRuta">Placa</label>
                    <div id="routeFind"></div>
                    <br/>
                    <div class="btn-group cf">
                        <button class="btn_add" id="btnARDialog" onclick="addRoute(); return listVehicle();">Adicionar</button>
                        <button class="btn_cancel" onclick="closePopUp('m-AddRoute')">Cancelar</button>
                    </div>
                </div>
                <div>
                    <ul id="listaVehiculos" style="overflow: auto";>
                        <li id="titulo"><b>VEHICULOS</b></li>
                        <li id="columnas"><b>Placa - Ruta - Nombre</b></li>
                    </ul>
                </div>
            </div>
        </dialog>
      </body>
</html>